<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Amadou Ba</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Fallback même sans JS */
      .section { display: none; }
      .section.active { display: block; }
      :target.section { display: block; }

      /* --- Mise en page blog lisible & pro --- */
      .blog-content h4 {
        margin-top: 2rem;
        padding-top: 1rem;
        border-top: 1px solid #e2e8f0; /* slate-200 */
        font-weight: 600; /* semibold */
        font-size: 1.25rem; /* text-xl */
        color: #0f172a; /* slate-900 */
        letter-spacing: 0.01em;
      }
      .blog-content p {
        margin-top: 1rem;
        line-height: 1.8; /* leading-relaxed+ */
        color: #0f172a; /* slate-900 */
      }
      .blog-content ul { margin-top: 1rem; padding-left: 1.25rem; }
      .blog-content li { margin-top: 0.5rem; }
      .blog-content strong { font-weight: 700; color: #0f172a; }
      .blog-content hr {
        border: none; height: 1px; margin: 1.5rem 0;
        background: linear-gradient(90deg, rgba(0,0,0,0) 0%, #cbd5e1 50%, rgba(0,0,0,0) 100%); /* slate-300 */
      }
    </style>
    <noscript>
      <style>
        #home.section { display: block; }
      </style>
    </noscript>
  </head>
  <body class="min-h-screen flex flex-col bg-gradient-to-b from-slate-200 via-slate-150 to-slate-200 text-slate-800 font-sans">
    <!-- Header / Nav -->
    <header class="sticky top-0 z-50 backdrop-blur bg-gradient-to-r from-white via-sky-50/70 to-white border-b border-slate-200 shadow-md">
      <div class="mx-auto max-w-6xl px-6 py-4 flex items-center justify-between">
        <a href="#home" class="font-extrabold tracking-tight text-2xl text-slate-900">Amadou Ba</a>
        <nav class="flex flex-wrap items-center gap-6 md:gap-10 text-sm font-medium">
          <a href="#home" data-i18n="nav.home" class="nav-link px-3 py-1 rounded-lg text-slate-700 hover:bg-slate-100 hover:text-sky-900 transition-colors">Accueil</a>
          <a href="#research" data-i18n="nav.research" class="nav-link px-3 py-1 rounded-lg text-slate-700 hover:bg-slate-100 hover:text-sky-900 transition-colors">Recherche</a>
          <a href="#teaching" data-i18n="nav.teaching" class="nav-link px-3 py-1 rounded-lg text-slate-700 hover:bg-slate-100 hover:text-sky-900 transition-colors">Enseignement</a>
          <a href="#cv" data-i18n="nav.cv" class="nav-link px-3 py-1 rounded-lg text-slate-700 hover:bg-slate-100 hover:text-sky-900 transition-colors">CV</a>
          <a href="#blog" data-i18n="nav.blog" class="nav-link px-3 py-1 rounded-lg text-slate-700 hover:bg-slate-100 hover:text-sky-900 transition-colors">Blog</a>
        </nav>
        <div class="flex items-center gap-2">
          <div class="flex items-center gap-1 rounded-xl border border-slate-300 p-1 bg-white">
            <button id="btn-fr" onclick="setLang('fr')" class="px-3 py-1 rounded-lg text-sm font-medium bg-sky-700 text-white">FR</button>
            <button id="btn-en" onclick="setLang('en')" class="px-3 py-1 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-100">EN</button>
          </div>
        </div>
      </div>
    </header>

    <main class="flex-1">
      <!-- Accueil -->
      <section id="home" class="section relative overflow-hidden">
        <div class="mx-auto max-w-6xl px-6 py-20 md:py-24">
          <!-- HERO unified card -->
          <div class="relative rounded-3xl bg-white/80 border border-slate-200 shadow-md p-6 md:p-10">
            <div class="pointer-events-none absolute -top-16 -right-16 h-64 w-64 rounded-full bg-sky-100 blur-2xl opacity-50"></div>
            <div class="relative grid items-center gap-6 md:gap-8 md:grid-cols-2">
              <!-- Photo -->
              <div class="flex justify-center md:justify-start">
                <div class="w-56 h-56 md:w-60 md:h-60 rounded-full overflow-hidden shadow-xl ring-4 ring-white border border-slate-200">
                  <img src="unnamed.jpg" alt="Portrait de Amadou Ba" class="object-cover w-full h-full" />
                </div>
              </div>
              <!-- Texte -->
              <div>
                <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight text-slate-900">Amadou Ba</h1>
                <p class="mt-5 text-lg md:text-xl text-slate-800" data-i18n="hero.subtitle">Doctorant en administration (finance) à l’ESG UQAM.</p>
                <p class="mt-3 text-slate-800" data-i18n="hero.bio">Titulaire d’un master en finance et d’une Licence en Sciences de Gestion, obtenus à l’Université Gaston Berger (Sénégal).</p>
                <div class="mt-5 text-base text-slate-700">
                  <strong data-i18n="hero.interestsLabel" class="text-slate-900">Domaines de recherche :</strong>
                  <span data-i18n="hero.topics">financement participatif (crowdfunding), FinTech, capital‑risque, structure financière.</span>
                </div>
              </div>
            </div>
          </div>

          <!-- MANIFEST / QUOTE band -->
          <div class="mt-10 md:mt-12 rounded-3xl bg-gradient-to-r from-sky-50 via-white to-sky-50 border border-slate-200 p-6 md:p-10 shadow-sm ring-1 ring-slate-200/70">
            <blockquote class="text-3xl md:text-4xl font-semibold italic text-sky-900 text-center leading-normal" data-i18n="manifest.quote">Redéfinir la valeur de la finance : créer des opportunités durables, préserver la dignité et contribuer à un monde plus inclusif.</blockquote>
            <div class="mt-4 h-1 w-16 mx-auto rounded-full bg-sky-700/80"></div>
            <div class="mt-6 md:mt-8 space-y-4 text-slate-800 max-w-4xl mx-auto">
              <p data-i18n="manifest.p1">Longtemps, la finance a privilégié une vision étroite, centrée sur les rendements et les profits. Pourtant, une autre perspective s’impose : derrière chaque décision financière se trouvent des personnes, des familles et des communautés dont les aspirations méritent d’être entendues.</p>
              <p data-i18n="manifest.p2">Mes recherches explorent comment les mécanismes financiers peuvent servir concrètement le bien commun : favoriser l’accès à l’éducation, soutenir les entrepreneurs locaux, accélérer la transition écologique et renforcer la cohésion sociale.</p>
              <p data-i18n="manifest.p3">Je considère que la véritable valeur de la finance ne se mesure pas seulement en performance économique, mais à sa capacité de créer des opportunités durables, de préserver la dignité de chacun et de contribuer à une société plus inclusive et respectueuse de son environnement.</p>
              <p class="pt-2"><strong data-i18n="manifest.final">C’est cette finance que je m’engage à construire.</strong></p>
            </div>
          </div>
        </div>
      </section>

      <!-- Recherche -->
      <section id="research" class="section mx-auto max-w-6xl px-6 py-24 border-t border-slate-300">
        <h2 class="text-center text-4xl md:text-5xl font-extrabold tracking-tight text-sky-900 mb-10" data-i18n="research.title">Recherche</h2>
        <div class="space-y-8">
          <div class="p-8 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
            <h3 class="text-xl font-semibold text-slate-900" data-i18n="research.current">Travaux en cours</h3>
            <hr class="my-4 border-slate-200" />
            <p class="text-slate-800 leading-relaxed italic" data-i18n="research.project">Facteurs macroéconomiques et institutionnels sur le financement participatif dans les marchés émergents (avec Maher Kooli).</p>
          </div>
          <div class="p-8 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
            <h3 class="text-xl font-semibold text-slate-900" data-i18n="research.publication">Publication</h3>
            <p class="mt-2 text-slate-600 text-sm italic" data-i18n="research.pubtitle">Les déterminants de la structure financière : cas des sociétés cotées à la BRVM</p>
            <hr class="my-4 border-slate-200" />
            <p class="text-slate-800 leading-relaxed" data-i18n="research.pubcontent">Les travaux de Modigliani et Miller (1958) constituent le point de départ de la recherche sur la structure financière des entreprises. Ils montrent que sous certaines hypothèses, la valeur de la firme est indépendante de sa structure financière. Plusieurs cadres théoriques ont émergé pour apporter leur contribution sur ce débat. C’est le cas de la théorie du compromis, du financement hiérarchique et du market timing. L’objectif de l’article est de voir la validité de ces trois théories sur le marché de la Bourse Régionale des Valeurs Mobilières. Nous avons utilisé les données de panel comme méthodologie de traitement des données sur un échantillon de 30 entreprises cotées à la bourse régionale des valeurs mobilières sur une période de cinq ans. Les résultats montrent que la théorie du compromis est validée, la théorie du financement hiérarchique ne l’est pas, tandis que les résultats du market timing sont peu concluants.</p>
          </div>
        </div>
      </section>

      <!-- Blog -->
      <section id="blog" class="section mx-auto max-w-6xl px-6 py-24 border-t border-slate-300">
        <h2 class="text-center text-4xl md:text-5xl font-extrabold tracking-tight text-sky-900 mb-8" data-i18n="blog.title">Blog</h2>
        <div id="blog-controls" class="max-w-3xl mx-auto mb-8">
          <input id="blog-search" class="w-full rounded-xl border border-slate-300 bg-white/90 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-600" placeholder="Rechercher dans le blog…" />
        </div>
        <div id="blog-list" class="grid gap-6 md:grid-cols-2"></div>
        <div id="blog-detail" class="hidden max-w-3xl mx-auto"></div>
      </section>

      <!-- Enseignement -->
      <section id="teaching" class="section mx-auto max-w-6xl px-6 py-24 border-t border-slate-300">
        <h2 class="text-center text-4xl md:text-5xl font-extrabold tracking-tight text-sky-900 mb-10" data-i18n="teaching.title">Enseignement</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="p-8 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
            <div class="flex items-start justify-between">
              <h3 class="text-lg font-semibold text-slate-900" data-i18n="teaching.ugb">Université Gaston Berger (UGB), Sénégal</h3>
              <span class="text-sm text-slate-600">Janv. 2019 – Nov. 2020</span>
            </div>
            <p class="mt-2 text-slate-800" data-i18n="teaching.role1">Chargé de travaux dirigés</p>
          </div>
          <div class="p-8 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
            <div class="flex items-start justify-between">
              <h3 class="text-lg font-semibold text-slate-900" data-i18n="teaching.ugb">Université Gaston Berger (UGB), Sénégal</h3>
              <span class="text-sm text-slate-600">Oct. 2017 – Juil. 2019</span>
            </div>
            <p class="mt-2 text-slate-800" data-i18n="teaching.role2">Encadrement pédagogique</p>
          </div>
        </div>
      </section>

      <!-- CV -->
      <section id="cv" class="section mx-auto max-w-6xl px-6 py-24 border-t border-slate-300">
        <h2 class="text-center text-4xl md:text-5xl font-extrabold tracking-tight text-sky-900 mb-10" data-i18n="cv.title">CV</h2>
        <div class="p-8 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
          <p class="text-slate-800" data-i18n="cv.text">Téléchargez mon CV en PDF.</p>
          <div class="mt-6 flex flex-wrap items-center gap-3">
            <a href="CV%20Amadou.pdf" target="_blank" rel="noopener" class="px-5 py-2.5 rounded-xl bg-sky-800 text-white font-medium hover:bg-sky-900 shadow-sm" data-i18n="cv.button">Télécharger mon CV (PDF)</a>
            <span class="text-xs text-slate-600" data-i18n="cv.update">Dernière mise à jour : 2025</span>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="mt-auto border-t border-slate-300 bg-white/90">
      <div class="mx-auto max-w-6xl px-6 py-6 text-sm text-slate-600 flex items-center justify-center">
        <div>© 2025 Amadou Ba</div>
      </div>
    </footer>

    <script>
      const i18n = {
        fr: {
          nav: { home: "Accueil", research: "Recherche", teaching: "Enseignement", cv: "CV", blog: "Blog" },
          hero: {
            subtitle: "Doctorant en administration (finance) à l’ESG UQAM.",
            bio: "Titulaire d’un master en finance et d’une Licence en Sciences de Gestion, obtenus à l’Université Gaston Berger (Sénégal).",
            interestsLabel: "Domaines de recherche :",
            topics: "financement participatif (crowdfunding), FinTech, capital‑risque, structure financière."
          },
          manifest: {
            quote: "Redéfinir la valeur de la finance : créer des opportunités durables, préserver la dignité et contribuer à un monde plus inclusif.",
            p1: "Longtemps, la finance a privilégié une vision étroite, centrée sur les rendements et les profits. Pourtant, une autre perspective s’impose : derrière chaque décision financière se trouvent des personnes, des familles et des communautés dont les aspirations méritent d’être entendues.",
            p2: "Mes recherches explorent comment les mécanismes financiers peuvent servir concrètement le bien commun : favoriser l’accès à l’éducation, soutenir les entrepreneurs locaux, accélérer la transition écologique et renforcer la cohésion sociale.",
            p3: "Je considère que la véritable valeur de la finance ne se mesure pas seulement en performance économique, mais à sa capacité de créer des opportunités durables, de préserver la dignité de chacun et de contribuer à une société plus inclusive et respectueuse de son environnement.",
            final: "C’est cette finance que je m’engage à construire."
          },
          research: {
            title: "Recherche",
            current: "Travaux en cours",
            project: "Facteurs macroéconomiques et institutionnels sur le financement participatif dans les marchés émergents (avec Maher Kooli).",
            publication: "Publication",
            pubtitle: "Les déterminants de la structure financière : cas des sociétés cotées à la BRVM",
            pubcontent: "Les travaux de Modigliani et Miller (1958) constituent le point de départ de la recherche sur la structure financière des entreprises. Ils montrent que sous certaines hypothèses, la valeur de la firme est indépendante de sa structure financière. Plusieurs cadres théoriques ont émergé pour apporter leur contribution sur ce débat. C’est le cas de la théorie du compromis, du financement hiérarchique et du market timing. L’objectif de l’article est de voir la validité de ces trois théories sur le marché de la Bourse Régionale des Valeurs Mobilières. Nous avons utilisé les données de panel comme méthodologie de traitement des données sur un échantillon de 30 entreprises cotées à la bourse régionale des valeurs mobilières sur une période de cinq ans. Les résultats montrent que la théorie du compromis est validée, la théorie du financement hiérarchique ne l’est pas, tandis que les résultats du market timing sont peu concluants."
          },
          teaching: {
            title: "Enseignement",
            role1: "Chargé de travaux dirigés",
            role2: "Encadrement pédagogique"
          },
          cv: {
            title: "CV",
            text: "Téléchargez mon CV en PDF.",
            button: "Télécharger mon CV (PDF)",
            update: "Dernière mise à jour : 2025"
          },
          blog: {
            title: "Blog",
            searchPlaceholder: "Rechercher dans le blog…",
            empty: "Aucun article pour le moment.",
            readMore: "Lire la suite",
            back: "← Retour au blog"
          }
        },
        en: {
          nav: { home: "Home", research: "Research", teaching: "Teaching", cv: "CV", blog: "Blog" },
          hero: {
            subtitle: "PhD candidate in Administration (Finance) at ESG UQAM.",
            bio: "Holder of a Master’s in Finance and a Bachelor’s in Management of Organizations from Université Gaston Berger (Senegal).",
            interestsLabel: "Research interests:",
            topics: "crowdfunding, FinTech, venture capital, capital structure."
          },
          manifest: {
            quote: "Redefining the value of finance: creating lasting opportunities, preserving dignity, and contributing to a more inclusive world.",
            p1: "For too long, finance has favored a narrow view focused on returns and profits. Yet another perspective is needed: behind every financial decision are people, families, and communities whose aspirations deserve to be heard.",
            p2: "My research explores how financial mechanisms can concretely serve the common good: expanding access to education, supporting local entrepreneurs, accelerating the ecological transition, and strengthening social cohesion.",
            p3: "I believe the true value of finance is measured not only by economic performance, but by its ability to create lasting opportunities, preserve human dignity, and contribute to a more inclusive society that respects its environment.",
            final: "This is the finance I commit to building."
          },
          research: {
            title: "Research",
            current: "Ongoing Work",
            project: "Macroeconomic and institutional factors on crowdfunding in emerging markets (with Maher Kooli).",
            publication: "Publication",
            pubtitle: "Determinants of capital structure: Evidence from listed firms on the BRVM",
            pubcontent: "The work of Modigliani and Miller (1958) is the starting point for research on the financial structure of firms. They show that under certain assumptions, the value of the firm is independent of its financial structure. Several theoretical frameworks have emerged to contribute to this debate. This is the case of the trade-off theory, hierarchical financing and market timing. The objective of this article is to see the validity of these three theories at the level of the market of the Bourse Régionale des Valeurs Mobilières. We used panel data as a methodology to process data on a sample of 30 firms listed on the regional stock exchange over a period of 5 years. The results show that the trade-off theory is validated, the hierarchical financing theory is not, while the market timing results are inconclusive."
          },
          teaching: {
            title: "Teaching",
            role1: "Tutorial Instructor",
            role2: "Pedagogical Supervision"
          },
          cv: {
            title: "CV",
            text: "Download my CV as a PDF.",
            button: "Download my CV (PDF)",
            update: "Last updated: 2025"
          },
          blog: {
            title: "Blog",
            searchPlaceholder: "Search the blog…",
            empty: "No posts yet.",
            readMore: "Read more",
            back: "← Back to blog"
          }
        }
      };

      // --- Blog data (edit to add posts) ---
      const blogPosts = [
        {
          lang: 'fr',
          slug: 'redefinir-la-finance-rigueur-academique-dimension-humaine',
          title: 'Redéfinir la finance : entre rigueur académique et dimension humaine',
          date: '2025-06-15',
          tags: ['Réflexion','Finance durable','ESG'],
          excerpt: 'Pourquoi la finance doit intégrer sa dimension humaine et sociale, au-delà des rendements ; vers une approche inclusive et durable.',
          content: '<h4>Introduction</h4><p>Pendant longtemps, la finance s’est construite autour d’une logique essentiellement quantitative, centrée sur les rendements, la performance et la maximisation des profits. Cette vision a permis des avancées notables en matière d’efficacité et d’allocation des ressources, mais elle a aussi écarté une question fondamentale : quel est l’impact humain et social des décisions financières ?</p><p>Dans une discussion avec le professeur Maher Kooli, pionnier reconnu dans le domaine de la finance, il m’a rappelé que la dimension humaine demeure essentielle, même dans les approches les plus techniques. Cette réflexion rejoint la vision de Muhammad Yunus, prix Nobel de la paix et fondateur de la Grameen Bank, pour qui la finance doit être envisagée comme un instrument au service du bien commun, et non comme une fin en soi.</p><h4>Vers une finance inclusive et durable</h4><p>La finance moderne ne peut se réduire à la seule logique de rendement. Elle doit être comprise comme un levier de transformation sociale et environnementale. Concrètement, elle peut :</p><ul><li>Favoriser l’accès à l’éducation, en réduisant les barrières financières.</li><li>Soutenir l’entrepreneuriat local, en permettant à des acteurs souvent exclus des circuits traditionnels de se développer.</li><li>Accélérer la transition écologique, en orientant les investissements vers des projets durables.</li><li>Renforcer la cohésion sociale, en encourageant les dynamiques de solidarité et d’inclusion.</li></ul><h4>Redéfinir la notion de valeur</h4><p>Ce changement de perspective exige également une redéfinition de la notion de valeur. La performance financière ne saurait être mesurée uniquement par les profits générés ou les rendements obtenus. Elle doit intégrer des critères sociaux et environnementaux.</p><p>Par exemple, l’adoption des critères ESG (Environnement, Social, Gouvernance) illustre bien cette évolution : au-delà des résultats financiers, une entreprise ou un projet est désormais évalué en fonction de son impact sur l’environnement, de ses pratiques sociales et de la qualité de sa gouvernance.</p><h4>Conclusion : pour une finance de sens</h4><p>La véritable valeur de la finance ne réside pas seulement dans sa capacité à générer du profit, mais dans son rôle d’instrument au service de l’intérêt général. C’est cette finance que je m’engage à promouvoir à travers mes recherches : une finance rigoureuse dans ses méthodes, mais consciente de ses responsabilités sociales et environnementales.</p><p>Loin de s’opposer à la logique économique traditionnelle, cette approche l’enrichit en redonnant un sens et une finalité aux pratiques financières. C’est dans cette articulation entre rigueur scientifique et responsabilité sociale que se dessine l’avenir d’une finance réellement durable.</p>'
        }
      ];

      function t(path) {
        const lang = document.documentElement.lang || 'fr';
        const parts = path.split('.');
        let val = i18n[lang];
        for (const p of parts) val = val && val[p];
        return typeof val === 'string' ? val : '';
      }

      function formatDate(iso, lang) {
        const d = new Date(iso);
        try {
          return new Intl.DateTimeFormat((lang || document.documentElement.lang) === 'fr' ? 'fr-CA' : 'en-CA', { year: 'numeric', month: 'long', day: 'numeric' }).format(d);
        } catch(e) { return iso; }
      }

      function stripTags(html){ return (html || '').replace(/<[^>]*>/g,''); }
      function getBlogSlugFromHash() {
        const h = location.hash.replace('#','');
        if (h.startsWith('blog/')) return h.slice('blog/'.length);
        return null;
      }

      function renderBlogList() {
        const lang = document.documentElement.lang || 'fr';
        const q = (document.getElementById('blog-search')?.value || '').toLowerCase();
        const list = blogPosts.filter(p => p.lang === lang && (
          (p.title||'').toLowerCase().includes(q) ||
          (p.excerpt||'').toLowerCase().includes(q) ||
          stripTags(p.content||'').toLowerCase().includes(q)
        ));
        const readMore = lang==='fr' ? 'Lire la suite' : 'Read more';
        const html = (list.length ? list.map(p => `
          <article class="p-6 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
            <div class="flex items-center justify-between gap-3">
              <a class="text-xl font-semibold text-slate-900 hover:underline" href="#blog/${p.slug}">${p.title}</a>
              <span class="text-sm text-slate-500">${formatDate(p.date, lang)}</span>
            </div>
            ${p.tags && p.tags.length ? `<div class="mt-2 flex flex-wrap gap-2">${p.tags.map(tag => `<span class=\"px-2 py-0.5 text-xs rounded-full bg-sky-50 border border-sky-200 text-sky-900\">${tag}</span>`).join('')}</div>` : ''}
            <p class="mt-3 text-slate-800">${p.excerpt || ''}</p>
            <a class="mt-2 inline-block text-sky-800 hover:underline" href="#blog/${p.slug}">${readMore} →</a>
          </article>
        `).join('') : `<div class="text-center text-slate-500">${lang==='fr'?'Aucun article pour le moment.':'No posts yet.'}</div>`);
        const listMount = document.getElementById('blog-list');
        const detailMount = document.getElementById('blog-detail');
        if (listMount) listMount.innerHTML = html;
        if (detailMount) detailMount.classList.add('hidden');
        const ctrl = document.getElementById('blog-controls');
        if (ctrl) ctrl.classList.remove('hidden');
        const search = document.getElementById('blog-search');
        if (search) search.placeholder = lang==='fr' ? 'Rechercher dans le blog…' : 'Search the blog…';
      }

      function renderBlogListTeaser() {
        const lang = document.documentElement.lang || 'fr';
        const q = (document.getElementById('blog-search')?.value || '').toLowerCase();
        const list = blogPosts.filter(p => p.lang === lang && (
          (p.title||'').toLowerCase().includes(q) ||
          stripTags(p.content||'').toLowerCase().includes(q)
        ));
        const readMore = lang==='fr' ? 'Lire la suite' : 'Read more';
        const html = (list.length ? list.map(p => {
          const full = stripTags(p.content || '');
          let teaser = full.slice(0, 420);
          const cut = Math.max(teaser.lastIndexOf('. '), teaser.lastIndexOf(' '));
          if (full.length > 420 && cut > 60) teaser = teaser.slice(0, cut + 1) + ' …';
          return `
            <article class="p-6 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
              <div class="flex items-center justify-between gap-3">
                <a class="text-xl font-semibold text-slate-900 hover:underline" href="#blog/${p.slug}">${p.title}</a>
                <span class="text-sm text-slate-500">${formatDate(p.date, lang)}</span>
              </div>
              ${p.tags && p.tags.length ? `<div class=\"mt-2 flex flex-wrap gap-2\">${p.tags.map(tag => `<span class=\"px-2 py-0.5 text-xs rounded-full bg-sky-50 border border-sky-200 text-sky-900\">${tag}</span>`).join('')}</div>` : ''}
              <p class="mt-3 text-slate-800">${teaser}</p>
              <a class="mt-2 inline-block text-sky-800 hover:underline" href="#blog/${p.slug}">${readMore} →</a>
            </article>
          `;
        }).join('') : `<div class="text-center text-slate-500">${lang==='fr'?'Aucun article pour le moment.':'No posts yet.'}</div>`);
        const listMount = document.getElementById('blog-list');
        const detailMount = document.getElementById('blog-detail');
        if (listMount) listMount.innerHTML = html;
        if (detailMount) detailMount.classList.add('hidden');
        const ctrl = document.getElementById('blog-controls');
        if (ctrl) ctrl.classList.remove('hidden');
        const search = document.getElementById('blog-search');
        if (search) search.placeholder = lang==='fr' ? 'Rechercher dans le blog…' : 'Search the blog…';
      }

      function renderBlogDetail(slug) {
        const lang = document.documentElement.lang || 'fr';
        const post = blogPosts.find(p => p.slug === slug && p.lang === lang);
        const listMount = document.getElementById('blog-list');
        const detailMount = document.getElementById('blog-detail');
        if (!detailMount || !listMount) return;
        if (!post) { renderBlogListTeaser(); return; }
        listMount.innerHTML = '';
        const back = lang==='fr' ? '← Retour au blog' : '← Back to blog';
        const tagsHtml = post.tags && post.tags.length ? `<div class="mt-2 flex flex-wrap gap-2">${post.tags.map(tag => `<span class=\"px-2 py-0.5 text-xs rounded-full bg-sky-50 border border-sky-200 text-sky-900\">${tag}</span>`).join('')}</div>` : '';
        detailMount.innerHTML = `
          <article class="p-6 rounded-2xl bg-slate-50 border border-slate-200 shadow-sm">
            <a class="text-sky-800 hover:underline" href="#blog">${back}</a>
            <h3 class="mt-2 text-2xl md:text-3xl font-semibold text-slate-900">${post.title}</h3>
            <div class="mt-1 text-sm text-slate-500">${formatDate(post.date, lang)}</div>
            ${tagsHtml}
            <div class=\"mt-4 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent\"></div>
            <div class=\"blog-content mt-4 text-slate-800 leading-relaxed\">${post.content || ''}</div>
          </article>`;
        detailMount.classList.remove('hidden');
        const ctrl = document.getElementById('blog-controls');
        if (ctrl) ctrl.classList.add('hidden');
      }

      function renderBlogRouter() {
        const slug = getBlogSlugFromHash();
        if (slug) {
          showSection('blog');
          renderBlogDetail(slug);
        } else if (location.hash.replace('#','') === 'blog') {
          showSection('blog');
          renderBlogListTeaser();
        }
      }

      const sections = ['home','research','teaching','cv','blog'];

      function setLang(lang) {
        document.documentElement.lang = lang;
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const path = el.getAttribute('data-i18n').split('.');
          let val = i18n[lang];
          for (const p of path) val = val && val[p];
          if (typeof val === 'string') el.textContent = val;
        });
        localStorage.setItem('lang', lang);
        const frBtn = document.getElementById('btn-fr');
        const enBtn = document.getElementById('btn-en');
        if (frBtn && enBtn) {
          if (lang === 'fr') {
            frBtn.classList.add('bg-sky-700','text-white');
            enBtn.classList.remove('bg-sky-700','text-white');
          } else {
            enBtn.classList.add('bg-sky-700','text-white');
            frBtn.classList.remove('bg-sky-700','text-white');
          }
        }
        // Re-rendre le blog si on change de langue
        renderBlogRouter();
      }

      function showSection(id) {
        sections.forEach(s => {
          const el = document.getElementById(s);
          if (!el) return;
          el.classList.add('section');
          el.classList.remove('active');
        });
        const current = document.getElementById(id);
        if (current) current.classList.add('active');
        if (location.hash !== '#' + id && !location.hash.startsWith('#blog/')) {
          location.hash = id;
        }
        document.querySelectorAll('.nav-link').forEach(a => {
          const target = a.getAttribute('href').slice(1);
          const active = target === id;
          a.classList.toggle('text-sky-900', active);
          a.classList.toggle('font-semibold', active);
          a.classList.toggle('bg-sky-100', active);
          a.classList.toggle('ring-1', active);
          a.classList.toggle('ring-sky-200', active);
        });
        window.scrollTo({ top: 0 });
      }

      // Hook nav links
      document.querySelectorAll('nav a[href^="#"]').forEach(a => {
        a.addEventListener('click', (e) => {
          e.preventDefault();
          const id = a.getAttribute('href').slice(1);
          showSection(id);
        });
      });

      // Init
      const savedLang = localStorage.getItem('lang') || 'fr';
      setLang(savedLang);
      const initialHash = location.hash.replace('#','');
      if (initialHash.startsWith('blog/')) {
        showSection('blog');
        renderBlogDetail(initialHash.slice(5));
      } else if (['home','research','teaching','cv','blog'].includes(initialHash)) {
        showSection(initialHash || 'home');
        if (initialHash === 'blog') renderBlogListTeaser();
      } else {
        showSection('home');
      }

      // Router hashchange (sections + blog)
      window.addEventListener('hashchange', () => {
        const h = location.hash.replace('#','');
        if (h.startsWith('blog/')) {
          showSection('blog');
          renderBlogDetail(h.slice(5));
        } else if (h === 'blog') {
          showSection('blog');
          renderBlogListTeaser();
        } else if (sections.includes(h)) {
          showSection(h);
        }
      });
    </script>
  </body>
</html>
